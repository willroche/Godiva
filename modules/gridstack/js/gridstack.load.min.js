!function(i,t,a,s,n){"use strict";t.blazy=t.blazy||{},t.behaviors.gridstack={grids:null,config:{},breakpoints:null,windowWidth:0,options:{},serializedData:null,attach:function(t){var s=this,n={mobileFirst:!1,itemClass:"gridstack__box",handle:".box__content"},d=a.gridstack||{},r=i(".gridstack:not(.ungridstack)",t);r.once("gridstack").each(function(){var t=i(this),a=i("> .gridstack__box:visible",t);s.config=t.data("config")||{},s.options=i.extend({},d,n,s.config),t.gridstack(s.options),s.grids=t.data("gridstack"),s.breakpoints=t.data("breakpoints")||null,s.serializedData=s.serialized(a),s.onResize(t),s.cleanUp(t,a)})},cleanUp:function(i,t){i.hasClass("grid-stack-static")&&t.removeClass(function(i,t){return(t.match(/(^|\s)ui-\S+/g)||[]).join(" ")}).find(".ui-resizable-handle").remove(),i.removeClass("grid-stack-12"),i.removeAttr("data-config data-sm-grids data-md-grids")},serialized:function(t){var a=this,n=s.map(t,function(t){var a=i(t).data("_gridstack_node"),s={x:a.x,y:a.y,width:a.width,height:a.height};return s},a);return n},resizeGrid:function(i){var t=this,a=t.config.minWidth;t.windowWidth<=a?i.removeClass("gridstack--enabled").addClass("gridstack--disabled"):i.removeClass("gridstack--disabled").addClass("gridstack--enabled"),s.isNull(t.breakpoints)||t.updateGrid(i)},updateGrid:function(t){var a=this,n=null,d=s.keys(a.breakpoints),r=parseInt(s.last(d)),e=null,o=null,l=d.sort(function(i,t){return a.options.mobileFirst?i-t:t-i});s.each(l,function(i,t){a.windowWidth<=i?(e=a.breakpoints[i],o=i):a.windowWidth>=r&&(e=a.breakpoints[r],o=r)}),s.isNull(e)||(a.grids.setGridWidth(e),n=a.activeGrid(t,o,r),s.isNull(n)||s.each(n,function(n,d){var r=i("> .gridstack__box:visible",t).eq(d);n=s.isObject(n)?s.values(n):n,a.grids.update(r,n[0],n[1],n[2],n[3])}))},activeGrid:function(i,t,a){var s=this,n=s.serializedData,d=i.data("mdGrids"),r=i.data("mdWidth"),e=i.data("smGrids"),o=i.data("smWidth");if(o||r){if(t>=a)return n;if(t>=r)return d;if(t>=o)return e}return null},onResize:function(i){var a=this;a.windowWidth=t.blazy.windowWidth,a.resizeGrid(i),i.on("resizing",function(t,s){a.windowWidth=s,a.resizeGrid(i)})}}}(jQuery,Drupal,drupalSettings,_,this);
